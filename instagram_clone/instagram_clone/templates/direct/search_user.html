{% extends 'base.html' %}

{% load static %}

{% block content %}

<div class="columns is-mobile">
    <div class="column ">
        <div class="field is-grouped " class="inline">
            <form style="  display: flex;
                          flex-flow: row wrap;
                          align-items: center;">
                <p class="control is-expanded">
                    <input class="input is-large" name="q" type="text" placeholder="Search users..."
                           value="{{ request.GET.q }}">
                </p>

                <p class="control">
                    <button type="submit" class="button">Search</button>
                </p>
            </form>
        </div>


    </div>
</div>

<div class="column is-one-fifth is-centered">

    {% for user in users %}
    <div class="box">
        <article class="media">
            <div class="media-left">
                <figure class="image is-64x64">
                    {% if user.profile.picture %}
                    <img src="{{ user.profile.picture.url }}" alt="Placeholder image">
                    {% else %}
                    <img src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image">
                    {% endif %}
                </figure>
            </div>
            <div class="media-content">
                <div class="content">
                    <p>
                        <strong>{{ user.profile.first_name }} {{ user.profile.last_name }}</strong>
                        <small>@{{ user.username }}</small>
                    </p>
                    <a href="{% url 'newconversation' user.username %}" class="button is-info">Send a message!</a>
                </div>
            </div>
        </article>
    </div>
    {% endfor %}


</div>

{% endblock %}